# Generated by Django 5.2.1 on 2025-05-17 18:12

import django.db.models.deletion
import multiselectfield.db.fields
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='DocumentType',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('oid_type', models.CharField(choices=[('МОВНА', 'МОВНА'), ('ПЕМІН', 'ПЕМІН'), ('Спільний', 'Спільний')], max_length=20, verbose_name='Тип ОІД')),
                ('work_type', models.CharField(choices=[('Атестація', 'Атестація'), ('ІК', 'ІК'), ('Спільний', 'Спільний')], max_length=20, verbose_name='Тип робіт')),
                ('name', models.CharField(max_length=100, unique=True, verbose_name='Назва документа')),
                ('valid_days', models.PositiveIntegerField(default=0, help_text='Наприклад, 20 або 60. Якщо не обмежений — залишити 0.', verbose_name='Строк дії (у місяцях)')),
            ],
        ),
        migrations.CreateModel(
            name='OID',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255, verbose_name='Назва')),
                ('room', models.CharField(max_length=255, verbose_name='Приміщення №')),
                ('note', models.TextField(blank=True, null=True, verbose_name='Примітка')),
                ('oid_type', models.CharField(choices=[('ПЕМІН', 'ПЕМІН'), ('МОВНА', 'МОВНА')], default='ПЕМІН', max_length=20, verbose_name='Тип ОІД')),
                ('status', models.CharField(choices=[('створюється', 'створюється'), ('атестована', 'атестована'), ('в експлуатації', 'в експлуатації'), ('обробка припинена', 'обробка припинена'), ('скасовано', 'скасовано')], default='створюється', max_length=30, verbose_name='Поточний стан ОІД')),
            ],
        ),
        migrations.CreateModel(
            name='Person',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255, verbose_name='П.І.Б.')),
                ('position', models.CharField(max_length=255, verbose_name='Посада')),
            ],
        ),
        migrations.CreateModel(
            name='Unit',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('management_unit', models.CharField(choices=[('ПівнічнеТУ', 'ПівнічнеТУ'), ('ПівденнеТУ', 'ПівденнеТУ'), ('ЗахіднеТУ', 'ЗахіднеТУ'), ('СхіднеТУ', 'СхіднеТУ'), ('ЦентральнеТУ', 'ЦентральнеТУ')], max_length=50, verbose_name='Управління')),
                ('name', models.CharField(max_length=255, verbose_name='Військова частина')),
                ('city', models.CharField(max_length=25, verbose_name='Місто')),
                ('distance', models.CharField(max_length=10, verbose_name='відстань КМ')),
                ('directionGroup', models.CharField(max_length=10, verbose_name='грапа частин в які часто їдимо')),
            ],
        ),
        migrations.CreateModel(
            name='Trip',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('start_date', models.DateField(verbose_name='Дата початку')),
                ('end_date', models.DateField(verbose_name='Дата завершення')),
                ('purpose', models.TextField(blank=True, null=True, verbose_name='Примітка')),
                ('oid', models.ManyToManyField(to='oids.oid', verbose_name='Які ОІД')),
                ('persons', models.ManyToManyField(to='oids.person', verbose_name='Відряджаються')),
                ('units', models.ManyToManyField(to='oids.unit', verbose_name='Військові частини')),
            ],
        ),
        migrations.AddField(
            model_name='oid',
            name='unit',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='oids.unit', verbose_name='Військова частина'),
        ),
        migrations.CreateModel(
            name='Document',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('work_type', models.CharField(choices=[('Атестація', 'Атестація'), ('ІК', 'ІК')], max_length=20, verbose_name='Тип роботи')),
                ('document_number', models.CharField(default='27/14-', max_length=50, verbose_name='Підготовлений № документу')),
                ('process_date', models.DateField(verbose_name='Дата опрацювання')),
                ('work_date', models.DateField(verbose_name='Дата проведення робіт')),
                ('author', models.CharField(max_length=255, verbose_name='Виконавець (ПІБ)')),
                ('note', models.TextField(blank=True, null=True, verbose_name='Примітки')),
                ('document_type', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='oids.documenttype', verbose_name='Документ')),
                ('oid', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='oids.oid', verbose_name='ОІД')),
                ('unit', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='oids.unit', verbose_name='Військова частина')),
            ],
        ),
        migrations.CreateModel(
            name='WorkRequest',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('work_type', multiselectfield.db.fields.MultiSelectField(choices=[('Атестація', 'Атестація'), ('ІК', 'ІК')], max_length=12, verbose_name='Типи роботи')),
                ('incoming_number', models.CharField(max_length=50, verbose_name='Вхідний номер заявки')),
                ('incoming_date', models.DateField(verbose_name='Дата заявки')),
                ('status', models.CharField(choices=[('очікує', 'очікує'), ('в роботі', 'в роботі'), ('виконано', 'виконано'), ('скасовано', 'скасовано')], default='очікує', max_length=20, verbose_name='Статус заявки')),
                ('note', models.TextField(blank=True, null=True, verbose_name='Примітки')),
                ('Unit', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='oids.unit', verbose_name='Військова частина')),
                ('oids', models.ManyToManyField(to='oids.oid', verbose_name='Об’єкти інформаційної діяльності')),
            ],
        ),
    ]
